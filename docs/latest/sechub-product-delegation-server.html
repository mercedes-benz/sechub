<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.16">
<title>SecHub PDS Documentation</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;-webkit-tap-highlight-color:transparent}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
pre.CodeRay{background:#f7f7f8}
.CodeRay .line-numbers{border-right:1px solid currentColor;opacity:.35;padding:0 .5em 0 0}
.CodeRay span.line-numbers{display:inline-block;margin-right:.75em}
.CodeRay .line-numbers strong{color:#000}
table.CodeRay{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.CodeRay td{vertical-align:top;line-height:inherit}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.code{padding:0 0 0 .75em}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1><span class="image"><img src="images/sechub-logo.png" alt="sechub"></span> SecHub PDS Documentation</h1>
<div class="details">
<span id="revnumber"> PDS 0.29.0</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of contents</div>
<ul class="sectlevel1">
<li><a href="#about">1. About</a></li>
<li><a href="#download">2. Download</a></li>
<li><a href="#concept">3. Concept</a>
<ul class="sectlevel2">
<li><a href="#product-delegation-server">3.1. Product delegation server</a>
<ul class="sectlevel3">
<li><a href="#general">3.1.1. General</a></li>
<li><a href="#handling-of-resources">3.1.2. Handling of resources</a></li>
<li><a href="#big-picture">3.1.3. Big picture</a></li>
<li><a href="#pds-storage-and-sharing">3.1.4. Storage and sharing</a>
<ul class="sectlevel4">
<li><a href="#shared-s3-storage">3.1.4.1. Shared S3 storage</a></li>
<li><a href="#pds-storage-different-s3">3.1.4.2. Different S3 storages</a></li>
<li><a href="#same-shared-volume-nfs">3.1.4.3. Same shared volume (NFS)</a></li>
<li><a href="#pds-storage-different-sharedvolume">3.1.4.4. Different shared volumes (NFS)</a></li>
<li><a href="#pds-storage-mixing-sharedvolume-and-s3">3.1.4.5. Mixing S3 and shared volume (NFS)</a></li>
</ul>
</li>
<li><a href="#pds-process-handling">3.1.5. Process execution</a>
<ul class="sectlevel4">
<li><a href="#how-pds-provides-output-and-error-stream-content-of-running-jobs-in-clustered-environments">3.1.5.1. How PDS provides output and error stream content of running jobs in clustered environments</a></li>
<li><a href="#how-pds-handles-storage-data">3.1.5.2. How PDS handles storage data</a>
<ul class="sectlevel5">
<li><a href="#pds-fetches-sourcecode-from-storage">3.1.5.2.1. Source code fetching</a></li>
<li><a href="#pds-fetches-binaries-from-storage">3.1.5.2.2. Binaries fetching</a></li>
<li><a href="#pds-explanation-data-structure">3.1.5.2.3. Data structure inside TAR and ZIP files</a></li>
<li><a href="#automated-extraction-of-relevant-parts">3.1.5.2.4. Automated Extraction of relevant parts</a></li>
</ul>
</li>
<li><a href="#how-pds-product-executors-configure-the-pds-adapter">3.1.5.3. How PDS product executors configure the PDS adapter</a></li>
<li><a href="#overview">3.1.5.4. Overview</a></li>
</ul>
</li>
<li><a href="#sechub-integration">3.1.6. SecHub integration</a>
<ul class="sectlevel4">
<li><a href="#executors-and-adapters">3.1.6.1. Executors and Adapters</a>
<ul class="sectlevel5">
<li><a href="#executors">3.1.6.1.1. Executors</a></li>
<li><a href="#adapters">3.1.6.1.2. Adapters</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#howto-integrate-a-new-product-via-pds">3.2. HowTo integrate a new product via PDS</a></li>
</ul>
</li>
<li><a href="#runtime-view">4. Runtime view</a>
<ul class="sectlevel2">
<li><a href="#section-pds-configuration">4.1. Configuration</a>
<ul class="sectlevel3">
<li><a href="#section-start-configuration">4.1.1. Minimum start configuration</a>
<ul class="sectlevel4">
<li><a href="#prod-profile">4.1.1.1. PROD profile</a></li>
<li><a href="#integration-test-mode">4.1.1.2. Integration test mode</a></li>
</ul>
</li>
<li><a href="#section-db-configuration">4.1.2. Database configuration</a>
<ul class="sectlevel4">
<li><a href="#section-postgresql-configuration">4.1.2.1. PostgreSQL</a></li>
</ul>
</li>
<li><a href="#section-general-configuration">4.1.3. General configuration</a></li>
</ul>
</li>
<li><a href="#tech-user-credentials">4.2. Tech user credentials</a></li>
<li><a href="#admin-credentials">4.3. Admin credentials</a></li>
<li><a href="#workspace-parent-folder">4.4. Workspace parent folder</a></li>
<li><a href="#section-pds-server-config-file">4.5. Server configuration file</a></li>
<li><a href="#launcher-scripts">4.6. Launcher scripts</a>
<ul class="sectlevel3">
<li><a href="#generated-variables">4.6.1. Generated variables</a></li>
<li><a href="#parameter-variables">4.6.2. Parameter variables</a></li>
<li><a href="#file-locations">4.6.3. File locations</a>
<ul class="sectlevel4">
<li><a href="#upload">4.6.3.1. Upload</a></li>
<li><a href="#output">4.6.3.2. Output</a></li>
</ul>
</li>
<li><a href="#storage-configuration">4.6.4. Storage configuration</a></li>
<li><a href="#usage-of-sechub-storage">4.6.5. Usage of SecHub storage</a></li>
</ul>
</li>
<li><a href="#section-usecases">4.7. Use cases</a>
<ul class="sectlevel3">
<li><a href="#overview-about-usecase-groups">4.7.1. Overview about usecase groups</a>
<ul class="sectlevel4">
<li><a href="#anonymous">4.7.1.1. Anonymous</a></li>
<li><a href="#job-execution">4.7.1.2. Job execution</a></li>
<li><a href="#monitoring">4.7.1.3. Monitoring</a></li>
</ul>
</li>
<li><a href="#section-usecase-PDS_UC_001">4.7.2. PDS_UC_001-User creates job</a></li>
<li><a href="#section-usecase-PDS_UC_002">4.7.3. PDS_UC_002-User uploads job data</a></li>
<li><a href="#section-usecase-PDS_UC_003">4.7.4. PDS_UC_003-User marks job ready to start</a></li>
<li><a href="#section-usecase-PDS_UC_004">4.7.5. PDS_UC_004-User cancels job</a></li>
<li><a href="#section-usecase-PDS_UC_005">4.7.6. PDS_UC_005-User fetches job status</a></li>
<li><a href="#section-usecase-PDS_UC_006">4.7.7. PDS_UC_006-User fetches job result</a></li>
<li><a href="#section-usecase-PDS_UC_007">4.7.8. PDS_UC_007-Admin fetches monitoring status</a></li>
<li><a href="#section-usecase-PDS_UC_008">4.7.9. PDS_UC_008-Anymous check if server is alive</a></li>
<li><a href="#section-usecase-PDS_UC_009">4.7.10. PDS_UC_009-Admin fetches job result</a></li>
<li><a href="#section-usecase-PDS_UC_010">4.7.11. PDS_UC_010-Admin fetches server configuration</a></li>
<li><a href="#section-usecase-PDS_UC_011">4.7.12. PDS_UC_011-Admin fetches job output stream</a></li>
<li><a href="#section-usecase-PDS_UC_012">4.7.13. PDS_UC_012-Admin fetches job error stream</a></li>
</ul>
</li>
<li><a href="#rest-api">4.8. REST API</a>
<ul class="sectlevel3">
<li><a href="#big-picture-2">4.8.1. Big picture</a></li>
<li><a href="#create-job">4.8.2. Create JOB</a></li>
<li><a href="#upload-data">4.8.3. Upload data</a></li>
<li><a href="#mark-job-ready-to-start">4.8.4. Mark JOB ready to start</a></li>
<li><a href="#fetch-job-status">4.8.5. Fetch JOB status</a></li>
<li><a href="#fetch-job-result">4.8.6. Fetch JOB result</a></li>
<li><a href="#cancel-job">4.8.7. Cancel JOB</a></li>
<li><a href="#get-monitoring-status">4.8.8. Get monitoring status</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="about">1. About</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>About SecHub</strong></p>
</div>
<div class="paragraph">
<p>SecHub is an acronym for <code>Security Hub</code> and is first of
all <strong>one API to scan for different security problems</strong>. Users of SecHub do not
care about which exact product is doing the real scan on server side, but only
configure their wanted aim.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>SecHub does <strong>NOT</strong> provide a security infrastructure but does orchestrate
different security products/tools.</p>
</div>
<div class="paragraph">
<p>So <strong>you still need an existing security infrastructure</strong> behind SecHub !</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>It was designed to be very easy to integrate into any existing
build pipeline / contionus integration (CI) and helps to provide
<strong>SecDevOps</strong>.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>You can get more information about from <a href="https://mercedes-benz.github.io/sechub">SecHub web page</a>  .</p>
</div>
<div class="paragraph">
<p>The project is hosted at <a href="https://github.com/mercedes-benz/sechub" class="bare">https://github.com/mercedes-benz/sechub</a></p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>About documentation</strong></p>
</div>
<div class="paragraph">
<p>This documentation is part of <code>SecHub</code>.</p>
</div>
<table id="documentation-license-info" class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Value</th>
<th class="tableblock halign-left valign-top">Information</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LICENSE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MIT License</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Please look at <a href="https://github.com/mercedes-benz/sechub/blob/master/LICENSE" class="bare">https://github.com/mercedes-benz/sechub/blob/master/LICENSE</a></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Documentation version: <code>PDS 0.29.0-pds-20220602130426</code></p>
</div>
<div class="paragraph">
<p><strong>About PDS (Product Delegation Server)</strong></p>
</div>
<div class="paragraph">
<p>The product delegation server (<code>PDS</code>) represents a server which is high configurable and
can execute any command line tool. It has no runtime dependencies to SecHub, so it can be started
as another server.</p>
</div>
<div class="paragraph">
<p>Via <code>PDS</code> it is possible to easily integrate new security products into SecHub without writing
adapters or executors, because <code>PDS</code> as a part of SecHub is automatically supported.</p>
</div>
<div class="paragraph">
<p>You can use <code>PDS</code> instances also in a clustered way - e.g. by using Kubernetes and define a service
for the <code>PDS</code> PODs.</p>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="download">2. Download</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A ready to use executable <code>.jar</code> binary of <code>PDS</code> (Product Delegation Server)
is available at GitHub.</p>
</div>
<div class="paragraph">
<p>Download link to the latest SecHub PDS release: <a href="https://mercedes-benz.github.io/sechub/latest/pds-download.html" class="bare">https://mercedes-benz.github.io/sechub/latest/pds-download.html</a>
For documentation, please look at <a href="https://mercedes-benz.github.io/sechub">SecHub web page</a> .</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="concept">3. Concept</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="product-delegation-server">3.1. Product delegation server</h3>
<div class="sect3">
<h4 id="general">3.1.1. General</h4>
<div class="paragraph">
<p>There are many open source clients available having no server component inside so lacking:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>REST access</p>
</li>
<li>
<p>queuing</p>
</li>
<li>
<p>status requests</p>
</li>
<li>
<p>scalable</p>
</li>
<li>
<p>â€¦ more</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>So when we want to adapt them in SecHub style <em>(the product does the work and we ask for result)</em> we
need to provide a <code>ProductDelegationServer</code> (in short form <code>PDS</code>).</p>
</div>
<div class="paragraph">
<p><code>PDS</code> is</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a spring boot application which uses a network DB for providing cluster possibility</p>
</li>
<li>
<p>a complete standalone application without runtime dependencies to sechub server (or its shared kernel)</p>
</li>
<li>
<p>provides REST access</p>
</li>
<li>
<p>a very simple priviledge model with just two users (<code>tech user</code> + <code>admin user</code>),
basic auth via <code>TLS</code>, credentials are simply defined by environment entries on startup</p>
</li>
<li>
<p>provides jobs, queing, monitoring etc.</p>
</li>
<li>
<p>can execute single files (e.g. a bash script), where job parameters are
available as environment variables at runtime</p>
</li>
<li>
<p>a standard way to integrate any product into SecHub in a scalable and easy way</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="handling-of-resources">3.1.2. Handling of resources</h4>
<div class="ulist">
<ul>
<li>
<p>PDS server provides <code>auto unzipping</code> of uploaded resources when configured  - see <a href="#section-pds-server-config-file">PDS server configuration file</a></p>
</li>
<li>
<p>When a PDS job fails or is done the resources inside job workspace location are <strong>automatically removed</strong></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="big-picture">3.1.3. Big picture</h4>
<div class="imageblock">
<div class="content">
<img src="images/diagram_concept_product_delgation_server_bigpicture.png" alt="Diagram" width="1569" height="982">
</div>
</div>
</div>
<div class="sect3">
<h4 id="pds-storage-and-sharing">3.1.4. Storage and sharing</h4>
<div class="paragraph">
<p>PDS needs - like SecHub - the possiblity to store job data in a central storage location when
operating inside a cluster <em>(it&#8217;s not clear which cluster member uploads job data and which one does execute
the job and need the data at exectuion time).</em></p>
</div>
<div class="paragraph">
<p>PDS does use the already existing <code>sechub-storage-*</code> libraries which provide storage mechanism for S3 and
for shared volumes.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The next examples explain the different situations appearing for a PDS cluster executing product "XYZ",
but of course this applies to multiple clusters for different products as well</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>For non clustered environment "shared volumes" can also be local file system paths like
<code>/opt/storage/pds/XYZ</code></p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When talking about a NFS or a shared volume here, this is always meant to be a file system path.
It&#8217;s important to mount a NFS at a local file path for the PDS server when using a shared volume.
URLs are NOT supported - only filepathes. So you must mount your network file storage to a local file location!</p>
</div>
<div class="paragraph">
<p>For example: a base path for a shared volume could look like: <code>/media/mounted-storage/</code></p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect4">
<h5 id="shared-s3-storage">3.1.4.1. Shared S3 storage</h5>
<div class="paragraph">
<p>In the <a href="#section-pds-s3-storage-example-shared-s3-buckets">next example</a> PDS and SecHub are using the same S3 bucket to store files uploaded by the user.</p>
</div>
<div class="paragraph">
<p>We have two different scenarios here:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Product executor configuration <code>pds.config.use.sechub.storage</code> is <code>true</code><br>
In this case the way is exactly as shown in next picture:<br></p>
<div class="ulist">
<ul>
<li>
<p>The user uploads job data for a SecHub job and it is stored at shared S3 bucket <em>(blue lines)</em>.</p>
</li>
<li>
<p>When SecHub job is starting it will create a PDS job but does not upload any additional data.</p>
</li>
<li>
<p>When PDS job is starting the PDS server will fetch workspace files from existing SecHub job data <em>(red lines)</em>.</p>
</li>
<li>
<p>The storage path location is for PDS and SecHub  <code>${sharedS3Bucket}/jobstorage/${secHubJobUUID}/</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div id="section-pds-s3-storage-example-shared-s3-buckets" class="imageblock">
<div class="content">
<img src="images/diagram_concept_pds_storage_example_shared_s3_bucket.png" alt="Diagram" width="1714" height="865">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Product executor configuration <code>pds.config.use.sechub.storage</code> is NOT <code>true</code><br>
In this case the way is NOT like in picture before, but more like in <a href="#pds-storage-different-s3">Different S3 storages</a>.
Read there for more details - it&#8217;s the same - except there are not 2 different S3 buckets but only one.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="pds-storage-different-s3">3.1.4.2. Different S3 storages</h5>
<div class="paragraph">
<p>In the <a href="#section-pds-s3-storage-example-diff-s3-buckets">next example</a> PDS and SecHub are using different S3 buckets as storage.</p>
</div>
<div class="paragraph">
<p>We have two different scenarios here:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Product executor configuration <code>pds.config.use.sechub.storage</code> is NOT <code>true</code><br>
In this case the way is exactly as shown in next picture:<br></p>
<div class="ulist">
<ul>
<li>
<p>The user uploads job data for a SecHub job and it is stored at shared S3 bucket <em>(blue lines)</em>.</p>
</li>
<li>
<p>The storage path location for SecHub is <code>${sechubS3Bucket}/jobstorage/${secHubJobUUID}/</code></p>
</li>
<li>
<p>When SecHub job is starting it will create and initialize a PDS job by uploading all existing job data by PDS rest API.
This will store job data at PDS storage. <em>(green lines)</em>.</p>
</li>
<li>
<p>When PDS job is starting, the  PDS server will fetch workspace files from its PDS job data <em>(red lines)</em>.</p>
</li>
<li>
<p>The storage path location for PDS is <code>${pdsS3Bucket}/pds/${pdsProductIdentifier}/${pdsJobUUID}/</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div id="section-pds-s3-storage-example-diff-s3-buckets" class="imageblock">
<div class="content">
<img src="images/diagram_concept_pds_storage_example_different_s3_buckets.png" alt="Diagram" width="1878" height="922">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Product executor configuration <code>pds.config.use.sechub.storage</code> is <code>true</code></p>
</li>
</ul>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
This will NOT WORK! The job storage will not be found and an error will be thrown at job execution time.
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="same-shared-volume-nfs">3.1.4.3. Same shared volume (NFS)</h5>
<div class="paragraph">
<p>In the <a href="#section-pds-s3-storage-example-shared-nfs">next example</a> PDS server and SecHub are using same shared volume as storage.</p>
</div>
<div class="paragraph">
<p>We have two different scenarios here:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Product executor configuration <code>pds.config.use.sechub.storage</code> is <code>true</code><br>
In this case the way is exactly as shown in next picture:<br></p>
<div class="ulist">
<ul>
<li>
<p>The user uploads job data for a SecHub job and it is stored at shared volume <em>(blue lines)</em>.</p>
</li>
<li>
<p>When SecHub job is starting it will create a PDS job but does not upload any additional data.</p>
</li>
<li>
<p>When PDS job is starting the PDS server will fetch workspace files from existing SecHub job data <em>(red lines)</em>.</p>
</li>
<li>
<p>The storage path location is for PDS and SecHub  <code>${sharedVolumeBasePath}/jobstorage/${secHubJobUUID}/</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div id="section-pds-s3-storage-example-shared-nfs" class="imageblock">
<div class="content">
<img src="images/diagram_concept_pds_storage_example_shared_nfs.png" alt="Diagram" width="1714" height="837">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Product executor configuration <code>pds.config.use.sechub.storage</code> is NOT <code>true</code><br>
In this case the way is NOT like in picture before, but more like in <a href="#pds-storage-different-sharedvolume">Different shared volumes</a>.
Read there for more details - it&#8217;s the same - except there are not 2 different NFS but only one.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="pds-storage-different-sharedvolume">3.1.4.4. Different shared volumes (NFS)</h5>
<div class="paragraph">
<p>In the <a href="#section-pds-s3-storage-example-diff-nfs">next example</a> PDS and SecHub are using different shared volumes as storage.</p>
</div>
<div class="paragraph">
<p>We have two different scenarios here:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Product executor configuration <code>pds.config.use.sechub.storage</code> is NOT <code>true</code><br>
In this case the way is exactly as shown in next picture:<br></p>
<div class="ulist">
<ul>
<li>
<p>The user uploads job data for a SecHub job and it is stored at sechub shared volume <em>(blue lines)</em>.</p>
</li>
<li>
<p>The storage path location for SecHub is <code>${sechubSharedVolumeBasePath}/jobstorage/${secHubJobUUID}/</code></p>
</li>
<li>
<p>When SecHub job is starting it will create and initialize a PDS job by uploading all existing job data by PDS rest API.
This will store job data at PDS storage. <em>(green lines)</em>.</p>
</li>
<li>
<p>When PDS job is starting, the  PDS server will fetch workspace files from its PDS job data <em>(red lines)</em>.</p>
</li>
<li>
<p>The storage path location for PDS is <code>${pdsSharedVolumeBasePath}/pds/${pdsProductIdentifier}/${pdsJobUUID}/</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div id="section-pds-s3-storage-example-diff-nfs" class="imageblock">
<div class="content">
<img src="images/diagram_concept_pds_storage_example_different_nfs.png" alt="Diagram" width="1896" height="894">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Product executor configuration <code>pds.config.use.sechub.storage</code> is <code>true</code></p>
</li>
</ul>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
This will NOT WORK! The job storage will not be found and an error will be thrown at job execution time.
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="pds-storage-mixing-sharedvolume-and-s3">3.1.4.5. Mixing S3 and shared volume (NFS)</h5>
<div class="paragraph">
<p>This <a href="#section-pds-s3-storage-example-s3-nfs-mixed">example</a> is only mentioned for the sake of completeness: It is the same as before described for different S3 and different shared volumes:
<code>pds.config.use.sechub.storage</code> cannot be used in this case.</p>
</div>
<div class="paragraph">
<p>When not reusing SecHub storage, this scenario does work also well. In the next picture, SecHub itself would use a S3 storage and he
PDS instances for product <code>XYZ</code> would use a NFS to store job data. But of course it could be also the other way.</p>
</div>
<div id="section-pds-s3-storage-example-s3-nfs-mixed" class="imageblock">
<div class="content">
<img src="images/diagram_concept_pds_storage_example_s3_and_nfs_mixed.png" alt="Diagram" width="1876" height="865">
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="pds-process-handling">3.1.5. Process execution</h4>
<div class="paragraph">
<p>PDS instances are executing so called <code>caller scripts</code> by spanning a new process. At this time
dedicated environment variables are automatically injected and available inside the scripts.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When implementing a new PDS product integration you should always start with a normal,
executable script (e.g. <code>bash</code>).</p>
</div>
<div class="paragraph">
<p>So you can simply call your script standalone and when it works you just have to create
the PDS configuration file and make the script callable.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect4">
<h5 id="how-pds-provides-output-and-error-stream-content-of-running-jobs-in-clustered-environments">3.1.5.1. How PDS provides output and error stream content of running jobs in clustered environments</h5>
<div class="paragraph">
<p>We use <code>error.txt</code> and <code>output.txt</code> inside the workspace location of
a running PDS job.</p>
</div>
<div class="paragraph">
<p>The PDS job process does not store the files on a shared volume or S3 bucket
but on the local file system (like done for uploaded source files for example).</p>
</div>
<div class="paragraph">
<p>So we can easily write those text content from the files to our database when
the OS process (executing PDS caller script) has finished or failed, because
at this time we have direct access to the files.</p>
</div>
<div class="paragraph">
<p>But when an administrator wants to get the current output for a running job
/ operation this becomes tricky in a clustered environment, because the process
stream data is only available on the machine where the job is executed.
Using a loadbalancer we do not know which machine will be used for the REST
operation.</p>
</div>
<div class="paragraph">
<p>So it becomes necessary, that the executing cluster member will store the
error and output text data in database to provide this cluster wide.</p>
</div>
<div class="paragraph">
<p>On the other hand it shall not slow down or block the execution machine because of
permanent updates inside the DB. If an admin wants to check the output or
error stream content of a running job, the information shall be gathered on demand.
But when the job has finished <em>(no matter if canceled, done or failed)</em> the information will always be written to DB.</p>
</div>
<div class="paragraph">
<p>The next figure gives an overview about the workflow to achieve this goal:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/diagram_pds_overview_stream_access.svg" alt="Overview diagram about stream content fetching in cluster" width="1120" height="1186">
</div>
</div>
</div>
<div class="sect4">
<h5 id="how-pds-handles-storage-data">3.1.5.2. How PDS handles storage data</h5>
<div class="paragraph">
<p>The <code>PDS</code> does automatically fetch uploaded files from shared <a href="#pds-storage-and-sharing">storage</a>
temporary into its local filesystem. After the scan has been done, the temporary local files
will be automatically deleted.</p>
</div>
<div class="sect5">
<h6 id="pds-fetches-sourcecode-from-storage">3.1.5.2.1. Source code fetching</h6>
<div class="paragraph">
<p>Source code is always contained in a file called <code>sourcecode.zip</code>.
When a <code>PDS</code> starts a new job, it will fetch the complete ZIP file from <a href="#pds-storage-and-sharing">storage</a>
to it&#8217;s local storage at</p>
</div>
<div class="paragraph">
<p><code>${PDSJobWorkspaceLocation}/upload/sourcecode.zip</code>.</p>
</div>
<div class="paragraph">
<p>Afterwards the <a href="#pds-automated-extraction-sourcecode">relevant sources will be automatically extracted</a> by inspecting
the archive <a href="#pds-explanation-data-structure">data structure</a>.</p>
</div>
</div>
<div class="sect5">
<h6 id="pds-fetches-binaries-from-storage">3.1.5.2.2. Binaries fetching</h6>
<div class="paragraph">
<p>Binaries are always contained in a file called <code>binaries.tar</code>.
When a <code>PDS</code> starts a new job and the scan does references a binary data section, it will fetch
the complete TAR file from <a href="#pds-storage-and-sharing">storage</a> to it&#8217;s local storage at</p>
</div>
<div class="paragraph">
<p><code>${WorkspaceLocation}/upload/binaries.tar</code>.</p>
</div>
<div class="paragraph">
<p>Afterwards the <a href="#pds-automated-extraction-binaries">relevant binaries will be automatically extracted</a> by inspecting
the archive <a href="#pds-explanation-data-structure">data structure</a>.</p>
</div>
</div>
<div class="sect5">
<h6 id="pds-explanation-data-structure">3.1.5.2.3. Data structure inside TAR and ZIP files</h6>
<div id="data-structure-tar-and-zip-files" class="paragraph">
<p>The data structure inside <code>TAR</code> and <code>ZIP</code> files contains
data configuration parts inside <code><em>data</em></code> folder.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Before we introduced the possibility to define referenceable <a href="#sechub-config-data-section">data</a> inside a
SecHub configuration, we already provided a <code>fileSystem</code> element inside
 <a href="#sechub-config-code-scan">code scan configuration</a>.</p>
</div>
<div class="paragraph">
<p>For source scans this a more convenient way and we wanted to keep this possiblity - also for
backward compatibility with existing sechub configuration files.</p>
</div>
<div class="paragraph">
<p>So this is the reason, why <a href="#sechub-config-data-section">data</a> is contained inside <code><em>_data_</em></code>
folder and there is still content inside the root folder as well.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Only source code scan configuration files may be located inside the root folder!</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="shell">${content} <i class="conum" data-value="1"></i><b>(1)</b>
__data__/unique-name-1/${content} <i class="conum" data-value="2"></i><b>(2)</b>
__data__/unique-name-2/${content} <i class="conum" data-value="3"></i><b>(3)</b>
...</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>code scan embedded file system data</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>content of a data configuration with name "unique-name-1"</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>content of a data configuration with name "unique-name-2"</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Here an example:</p>
</div>
<div class="listingblock">
<div class="title">Example JSON data definition to show resulting TAR and ZIP structures</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
  <span class="key"><span class="delimiter">&quot;</span><span class="content">data</span><span class="delimiter">&quot;</span></span>: {
    <span class="key"><span class="delimiter">&quot;</span><span class="content">sources</span><span class="delimiter">&quot;</span></span>: [ <i class="conum" data-value="1"></i><b>(1)</b>
      {
        <span class="key"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">reference-name-sources-1</span><span class="delimiter">&quot;</span></span>, <i class="conum" data-value="2"></i><b>(2)</b>
        <span class="key"><span class="delimiter">&quot;</span><span class="content">fileSystem</span><span class="delimiter">&quot;</span></span>: {
          <span class="key"><span class="delimiter">&quot;</span><span class="content">files</span><span class="delimiter">&quot;</span></span>: [
            <span class="string"><span class="delimiter">&quot;</span><span class="content">somewhere/file1.txt</span><span class="delimiter">&quot;</span></span>,
            <span class="string"><span class="delimiter">&quot;</span><span class="content">somewhere/file2.txt</span><span class="delimiter">&quot;</span></span>
          ],
          <span class="key"><span class="delimiter">&quot;</span><span class="content">folders</span><span class="delimiter">&quot;</span></span>: [
            <span class="string"><span class="delimiter">&quot;</span><span class="content">somewhere/subfolder1</span><span class="delimiter">&quot;</span></span>,
            <span class="string"><span class="delimiter">&quot;</span><span class="content">somewhere/subfolder2</span><span class="delimiter">&quot;</span></span>
          ]
        },
        <span class="key"><span class="delimiter">&quot;</span><span class="content">excludes</span><span class="delimiter">&quot;</span></span>: [
          <span class="string"><span class="delimiter">&quot;</span><span class="content">**/mytestcode/**</span><span class="delimiter">&quot;</span></span>,
          <span class="string"><span class="delimiter">&quot;</span><span class="content">**/documentation/**</span><span class="delimiter">&quot;</span></span>
        ],
        <span class="key"><span class="delimiter">&quot;</span><span class="content">additionalFilenameExtensions</span><span class="delimiter">&quot;</span></span>: [
          <span class="string"><span class="delimiter">&quot;</span><span class="content">.cplusplus</span><span class="delimiter">&quot;</span></span>,
          <span class="string"><span class="delimiter">&quot;</span><span class="content">.py9</span><span class="delimiter">&quot;</span></span>
        ]
      }
    ],
    <span class="key"><span class="delimiter">&quot;</span><span class="content">binaries</span><span class="delimiter">&quot;</span></span>: [ <i class="conum" data-value="3"></i><b>(3)</b>
      {
        <span class="key"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">reference-name-binaries-1</span><span class="delimiter">&quot;</span></span>, <i class="conum" data-value="4"></i><b>(4)</b>
        <span class="key"><span class="delimiter">&quot;</span><span class="content">fileSystem</span><span class="delimiter">&quot;</span></span>: {
          <span class="key"><span class="delimiter">&quot;</span><span class="content">files</span><span class="delimiter">&quot;</span></span>: [
            <span class="string"><span class="delimiter">&quot;</span><span class="content">somewhere/file1.dll</span><span class="delimiter">&quot;</span></span>,
            <span class="string"><span class="delimiter">&quot;</span><span class="content">somewhere/file2.a</span><span class="delimiter">&quot;</span></span>
          ],
          <span class="key"><span class="delimiter">&quot;</span><span class="content">folders</span><span class="delimiter">&quot;</span></span>: [
            <span class="string"><span class="delimiter">&quot;</span><span class="content">somewhere/bin/subfolder1</span><span class="delimiter">&quot;</span></span>,
            <span class="string"><span class="delimiter">&quot;</span><span class="content">somewhere/bin/subfolder2</span><span class="delimiter">&quot;</span></span>
          ]
        }
      },
      {
        <span class="key"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">reference-name-binaries-2</span><span class="delimiter">&quot;</span></span>, <i class="conum" data-value="5"></i><b>(5)</b>
        <span class="key"><span class="delimiter">&quot;</span><span class="content">fileSystem</span><span class="delimiter">&quot;</span></span>: {
          <span class="key"><span class="delimiter">&quot;</span><span class="content">files</span><span class="delimiter">&quot;</span></span>: [
            <span class="string"><span class="delimiter">&quot;</span><span class="content">somewhere-else/file1.dll</span><span class="delimiter">&quot;</span></span>,
            <span class="string"><span class="delimiter">&quot;</span><span class="content">somewhere-else/file2.a</span><span class="delimiter">&quot;</span></span>
          ],
          <span class="key"><span class="delimiter">&quot;</span><span class="content">folders</span><span class="delimiter">&quot;</span></span>: [
            <span class="string"><span class="delimiter">&quot;</span><span class="content">somewhere-else/bin/subfolder1</span><span class="delimiter">&quot;</span></span>,
            <span class="string"><span class="delimiter">&quot;</span><span class="content">somewhere-else/bin/subfolder2</span><span class="delimiter">&quot;</span></span>
          ]
        }
      }
    ]
  }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>source definition - these structure parts are inside the <code>sourcecode.zip</code> file</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Name of one source data configuration</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>binaries definition - these structure parts are inside the <code>binaries.tar</code> file</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Name of the first binaries data configuration</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Name of the second binaries data configuration</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The example json configuration defines following content structure inside the upload files:</p>
</div>
<div class="listingblock">
<div class="title">ZIP file content for sources</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="shell">__data__/
    reference-name-sources-1/ <i class="conum" data-value="2"></i><b>(2)</b>
                  somewhere/
                     file1.txt
                     file2.txt
                     subfolder1/
                        example-content.py9
                     subfolder2/
                        example-content.cplusplus
                        example-content.txt</code></pre>
</div>
</div>
<div class="paragraph">
<p>The example json configuration would lead to a <code>TAR</code> file containing:</p>
</div>
<div class="listingblock">
<div class="title">TAR file content for binaries</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="shell">__data__/
    reference-name-binaries-1/<i class="conum" data-value="4"></i><b>(4)</b>
                  somewhere/
                     file1.dll
                     file2.a
                     subfolder1/
                        example-content.bin
                     subfolder2/
                        example-content.img
    reference-name-binaries-2/<i class="conum" data-value="5"></i><b>(5)</b>
                  somewhere-else/
                     file1.dll
                     file2.a
                     subfolder1/
                        example-content.bin
                     subfolder2/
                        example-content.img</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="automated-extraction-of-relevant-parts">3.1.5.2.4. Automated Extraction of relevant parts</h6>
<div class="paragraph">
<p>Only files and folders which are available for the configured scan type will be automatically
extracted!<br>
The artificial path element <code><em>_data_</em></code> and the reference name will not be contained in extracted
folders.</p>
</div>
<div id="sechub-config-data-section" class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Please read the SecHub technical documentation for more details about the data configuration.
You will find it described at <a href="https://mercedes-benz.github.io/sechub" class="bare">https://mercedes-benz.github.io/sechub</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div id="pds-automated-extraction-sourcecode" class="paragraph">
<p><strong>Automated extraction of source code</strong><br></p>
</div>
<div class="paragraph">
<p>Let&#8217;s assume PDS has <a href="#pds-fetches-sourcecode-from-storage">fetched</a> <code>sourcezip.zip</code> which contains following structure:</p>
</div>
<div class="listingblock">
<div class="title">ZIP file example content</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="shell">__data__/
    license-sources/
            somewhere/
                     file1a.txt
                     subfolder1/
                        file1b.txt
            file2.txt
    other-sources/
            file3.txt</code></pre>
</div>
</div>
<div class="paragraph">
<p>and a SecHub configuration file like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
    <span class="error">/</span><span class="error">/</span> <span class="error">.</span><span class="error">.</span> <span class="error">a</span><span class="error">s</span><span class="error">s</span><span class="error">u</span><span class="error">m</span><span class="error">e</span> <span class="error">d</span><span class="error">a</span><span class="error">t</span><span class="error">a</span> <span class="error">s</span><span class="error">e</span><span class="error">c</span><span class="error">t</span><span class="error">i</span><span class="error">o</span><span class="error">n</span> <span class="error">a</span><span class="error">n</span><span class="error">d</span> <span class="error">o</span><span class="error">t</span><span class="error">h</span><span class="error">e</span><span class="error">r</span> <span class="error">p</span><span class="error">a</span><span class="error">r</span><span class="error">t</span><span class="error">s</span> <span class="error">a</span><span class="error">r</span><span class="error">e</span> <span class="error">c</span><span class="error">o</span><span class="error">n</span><span class="error">f</span><span class="error">i</span><span class="error">g</span><span class="error">u</span><span class="error">r</span><span class="error">e</span><span class="error">d</span> <span class="error">c</span><span class="error">o</span><span class="error">r</span><span class="error">r</span><span class="error">e</span><span class="error">c</span><span class="error">t</span><span class="error">l</span><span class="error">y</span> <span class="error">.</span><span class="error">.</span>

    <span class="key"><span class="delimiter">&quot;</span><span class="content">licenseScan</span><span class="delimiter">&quot;</span></span>: {
        <span class="key"><span class="delimiter">&quot;</span><span class="content">use</span><span class="delimiter">&quot;</span></span> : [<span class="string"><span class="delimiter">&quot;</span><span class="content">license-sources</span><span class="delimiter">&quot;</span></span>]
    },
    <span class="key"><span class="delimiter">&quot;</span><span class="content">codeScan</span><span class="delimiter">&quot;</span></span>: {
        <span class="key"><span class="delimiter">&quot;</span><span class="content">use</span><span class="delimiter">&quot;</span></span> : [<span class="string"><span class="delimiter">&quot;</span><span class="content">other-sources</span><span class="delimiter">&quot;</span></span>]
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the example the SecHub configuration has a license scan configured which references
<code>license-sources</code> data configuration and a code scan which references <code>other-sources</code>.
The <code>PDS</code> for license scanning will only extract <code>license-sources</code>:</p>
</div>
<div class="listingblock">
<div class="title">Output of automated ZIP file extraction by PDS</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="shell">${PDSJobWorkspaceLocation}/upload/unzipped/sourcecode
                                       somewhere/
                                            file1a.txt
                                            subfolder1/
                                               file1b.txt
                                       file2.txt</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p><code>file3.txt</code> was not extracted, because it is not available for the license scan.</p>
</div>
</td>
</tr>
</table>
</div>
<div id="pds-automated-extraction-binaries" class="paragraph">
<p><strong>Automated extraction of binaries</strong><br></p>
</div>
<div class="paragraph">
<p>Let&#8217;s assume PDS has <a href="#pds-fetches-binaries-from-storage">fetched</a> <code>binaries.tar</code> which contains following structure:</p>
</div>
<div class="listingblock">
<div class="title">TAR file example content</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="shell">__data__/
    license-binaries/
            somewhere/
                     file1a.bin
                     subfolder1/
                        file1b.bin
            file2.bin
    other-binaries/
            file3.bin</code></pre>
</div>
</div>
<div class="paragraph">
<p>and a SecHub configuration file like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
    <span class="error">/</span><span class="error">/</span> <span class="error">.</span><span class="error">.</span> <span class="error">a</span><span class="error">s</span><span class="error">s</span><span class="error">u</span><span class="error">m</span><span class="error">e</span> <span class="error">d</span><span class="error">a</span><span class="error">t</span><span class="error">a</span> <span class="error">s</span><span class="error">e</span><span class="error">c</span><span class="error">t</span><span class="error">i</span><span class="error">o</span><span class="error">n</span> <span class="error">a</span><span class="error">n</span><span class="error">d</span> <span class="error">o</span><span class="error">t</span><span class="error">h</span><span class="error">e</span><span class="error">r</span> <span class="error">p</span><span class="error">a</span><span class="error">r</span><span class="error">t</span><span class="error">s</span> <span class="error">a</span><span class="error">r</span><span class="error">e</span> <span class="error">c</span><span class="error">o</span><span class="error">n</span><span class="error">f</span><span class="error">i</span><span class="error">g</span><span class="error">u</span><span class="error">r</span><span class="error">e</span><span class="error">d</span> <span class="error">c</span><span class="error">o</span><span class="error">r</span><span class="error">r</span><span class="error">e</span><span class="error">c</span><span class="error">t</span><span class="error">l</span><span class="error">y</span> <span class="error">.</span><span class="error">.</span>

    <span class="key"><span class="delimiter">&quot;</span><span class="content">licenseScan</span><span class="delimiter">&quot;</span></span>: {
        <span class="key"><span class="delimiter">&quot;</span><span class="content">use</span><span class="delimiter">&quot;</span></span> : [<span class="string"><span class="delimiter">&quot;</span><span class="content">license-binaries</span><span class="delimiter">&quot;</span></span>]
    },
    <span class="key"><span class="delimiter">&quot;</span><span class="content">codeScan</span><span class="delimiter">&quot;</span></span>: {
        <span class="key"><span class="delimiter">&quot;</span><span class="content">use</span><span class="delimiter">&quot;</span></span> : [<span class="string"><span class="delimiter">&quot;</span><span class="content">other-binaries</span><span class="delimiter">&quot;</span></span>]
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the example the SecHub configuration has a license scan configured which references
<code>license-binaries</code> data configuration and a code scan which references <code>other-binaries</code>.
The <code>PDS</code> for license scanning will only extract <code>license-binaries</code>:</p>
</div>
<div class="listingblock">
<div class="title">Output of automated ZIP file extraction by PDS</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="shell">${PDSJobWorkspaceLocation}/upload/extracted/binaries
                                       somewhere/
                                            file1a.bin
                                            subfolder1/
                                               file1b.bin
                                       file2.bin</code></pre>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="how-pds-product-executors-configure-the-pds-adapter">3.1.5.3. How PDS product executors configure the PDS adapter</h5>
<div id="concept-pds_adapter_configuration" class="paragraph">
<p>The different PDS product executors have different config builders which inherit from different abstract base classes
(e.g. <code>AbstractCodeScanAdapterConfigBuilder</code>). We have no multi inheritance in Java, but we do also not
want to implement the setup logic (which is complicated) for every PDS product executor again.</p>
</div>
<div class="paragraph">
<p>There is a specialized adapter configuration strategy for PDS standard setup: <code>PDSAdapterConfigurationStrategy</code>.</p>
</div>
</div>
<div class="sect4">
<h5 id="overview">3.1.5.4. Overview</h5>
<div class="imageblock">
<div class="content">
<img src="images/diagram_pds_adapter_configuration_overview.png" alt="Diagram" width="1494" height="926">
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="sechub-integration">3.1.6. SecHub integration</h4>
<div class="sect4">
<h5 id="executors-and-adapters">3.1.6.1. Executors and Adapters</h5>
<div class="sect5">
<h6 id="executors">3.1.6.1.1. Executors</h6>
<div class="paragraph">
<p>With <code>PDS</code> there is a default <code>REST</code> <code>API</code> available.</p>
</div>
<div class="paragraph">
<p>For different scanTypyes there will be dedicated PDSExecutors
(<code>PDSWebScanExecutor</code>, <code>PDSInfraScanExecutor</code>, etc., etc.)</p>
</div>
</div>
<div class="sect5">
<h6 id="adapters">3.1.6.1.2. Adapters</h6>
<div class="paragraph">
<p>The Adapter will always be the same, but filled with other necessary parameters.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
So there will be no need to write any adapter or executor when using PDS!
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="howto-integrate-a-new-product-via-pds">3.2. HowTo integrate a new product via PDS</h3>
<div class="paragraph">
<p>Having new security product XYZ but being a command line tool, we</p>
</div>
<div class="ulist">
<ul>
<li>
<p>create an environment (e.g. a docker container) where all your needed parts are integrated.
E.g. bash shell, tools, the product and its dependencies etc.</p>
</li>
<li>
<p>create an executable starter script (e.g. bash) which</p>
<div class="ulist">
<ul>
<li>
<p>calls the product</p>
</li>
<li>
<p>does system out/err to standard pipes</p>
</li>
<li>
<p>writes the product result report to relative path <code>./output/result.txt</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>create a <code>PSD</code> configuration file and fill with necessary data, see <a href="#section-pds-server-config-file">PDS server configuration file</a></p>
</li>
<li>
<p>start wanted amount of <code>ProductDelegationServer</code> instances with dedicated configuration
setup to have a clustered, server ready execution of CLI security products. If you want your
PDS to be started inside a cluster you have to setup load balancing etc. by your own.
For example: When using Kubernetes you normally would do this by just defining a
<code>Service</code> pointing to your <code>PODs</code>.</p>
</li>
<li>
<p>test via developer admin UI if the servers are working:</p>
<div class="ulist">
<ul>
<li>
<p>create test job, remember PDS job uuid</p>
</li>
<li>
<p>upload data</p>
</li>
<li>
<p>mark job as ready to start</p>
</li>
<li>
<p>check job state</p>
</li>
<li>
<p>fetch result and inspect</p>
</li>
</ul>
</div>
</li>
<li>
<p>when former test was successful</p>
<div class="ulist">
<ul>
<li>
<p>Define executor at sechub server side - <strong>will be implemented with #148</strong></p>
</li>
<li>
<p>When your product uses sereco general report format your are done- <strong>will be implemented with #283</strong>
otherwise SERECO must have a logic to import custom format for the PRODUCT - means needs an
implementatiion</p>
</li>
</ul>
</div>
</li>
<li>
<p>test via sechub client by start a new sechub job which shall use the product and verify results</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="runtime-view">4. Runtime view</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="section-pds-configuration">4.1. Configuration</h3>
<div class="sect3">
<h4 id="section-start-configuration">4.1.1. Minimum start configuration</h4>
<div class="sect4">
<h5 id="prod-profile">4.1.1.1. PROD profile</h5>
<div class="paragraph">
<p>You can start a PDS in production profile which requires a running PostgreSQL
database. Please refer also to <a href="#section-postgresql-configuration">PostgreSQL configuration</a> for
database setup which must be done before.</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>java -jar Dspring.profiles.active=pds_prod sechub-pds-0.25.0.jar</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
There are some more mandatory parameters, please refer to <a href="#section-general-configuration">general configuration</a>
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="integration-test-mode">4.1.1.2. Integration test mode</h5>
<div class="paragraph">
<p>You can start a PDS in integration test mode if you just want to
test</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>java -jar -Dspring.profiles.active=pds_integrationtest,pds_h2 sechub-pds-0.25.0.jar</pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="section-db-configuration">4.1.2. Database configuration</h4>
<div class="sect4">
<h5 id="section-postgresql-configuration">4.1.2.1. PostgreSQL</h5>
<div class="paragraph">
<p>First of all install a PostgreSQL database.</p>
</div>
<div class="paragraph">
<p>Then define following environment entries before you start the server
with active postgres profile:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>POSTGRES_DB_URL</p>
</li>
<li>
<p>POSTGRES_DB_USERNAME</p>
</li>
<li>
<p>POSTGRES_DB_PASSWORD</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>POSTGRES_DB_URL=jdbc:postgresql://127.0.0.1:49153/pds-gosec
POSTGRES_DB_USERNAME=pds-gosec-pg-admin
POSTGRES_DB_PASSWORD=a-very-strong-password...</pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="section-general-configuration">4.1.3. General configuration</h4>
<div class="paragraph">
<p>PDS can be configured  by keys on server startup.
Using the spring <code>@Value</code> annotation we are able to
use these keys as Java system properties but also as environment entries.</p>
</div>
<div class="paragraph">
<p>E.g. a key like <code>sechub.pds.admin.apitoken</code> can be set with</p>
</div>
<div class="listingblock">
<div class="content">
<pre>java ... -Dsechub.pds.admin.apitoken={noop}12345exampleToken</pre>
</div>
</div>
<div class="paragraph">
<p>or with an environment entry <code>SECHUB_PDS_ADMIN_APITOKEN</code> which
is e.g. more suitable for a <code>kubernetes</code> cluster deployment.</p>
</div>
<div class="paragraph">
<p>The next text blocks describe the keys available on PDS:</p>
</div>
<table id="section-gen-config-scope-credentials" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Scope 'credentials'</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.pds.admin.apitoken</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Administrator api token</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.pds.admin.userid</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Administrator user id</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.pds.techuser.apitoken</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Techuser user api token</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.pds.techuser.userid</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Techuser user id</p></td>
</tr>
</tbody>
</table>
<table id="section-gen-config-scope-development" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. Scope 'development'</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.pds.server.debug</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">When enabled, additional debug information are returned in case of failures. Do NOT use this in production.</p></td>
</tr>
</tbody>
</table>
<table id="section-gen-config-scope-execution" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. Scope 'execution'</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.pds.config.execute.queue.max</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">50</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set amount of maximum executed parts in queue for same time</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.pds.config.execute.worker.thread.count</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set amount of worker threads used for exeuctions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.pds.workspace.autoclean.disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defines if workspace is automatically cleaned when no longer necessary - means launcher script has been executed and finished (failed or done)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.pds.workspace.rootfolder</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">./</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set pds workspace root folder path. Inside this path the sub directory <code>workspace</code> will be created.</p></td>
</tr>
</tbody>
</table>
<table id="section-gen-config-scope-migration" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 4. Scope 'migration'</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">pds.migration.flyway.autorepair</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">When enabled, flyway migration problems will be automatically repaired</p></td>
</tr>
</tbody>
</table>
<table id="section-gen-config-scope-monitoring" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 5. Scope 'monitoring'</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.pds.config.heartbeat.enable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Configure if heartbeat checks are enabled</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.pds.config.trigger.heartbeat.delay</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">60000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Delay for heartbeat checks</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.pds.config.trigger.heartbeat.initialdelay</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Initial delay for heartbeat checks</p></td>
</tr>
</tbody>
</table>
<table id="section-gen-config-scope-p" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 6. Scope 'p'</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.pds.config.job.stream.cachetime</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PDS job stream data caching time in milliseconds. This defines the maximum period of time between an update time stamp and the request timestamp in database where current data is handled as still valid</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.pds.config.job.stream.check.retries</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maximum amount of tries to check if a stream data refresh has been handled (stream data has been updated)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.pds.config.job.stream.check.timetowait</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">500</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defines time in milliseconds for PDS job stream data update checks after job has been marked as necessary to have stream data refresh</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.pds.config.job.stream.mark.retries</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maximum amount of retries to mark job stream data refresh</p></td>
</tr>
</tbody>
</table>
<table id="section-gen-config-scope-scheduler" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 7. Scope 'scheduler'</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.pds.config.scheduling.enable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set scheduler enabled state</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.pds.config.trigger.nextjob.delay</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">delay for next job trigger in milliseconds</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.pds.config.trigger.nextjob.initialdelay</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">initial delay for next job trigger in milliseconds</p></td>
</tr>
</tbody>
</table>
<table id="section-gen-config-scope-security" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 8. Scope 'security'</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">pds.security.diffiehellman.length</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Define diffie hellman key length, see <a href="https://github.com/mercedes-benz/sechub/issues/689" class="bare">https://github.com/mercedes-benz/sechub/issues/689</a> for details</p></td>
</tr>
</tbody>
</table>
<table id="section-gen-config-scope-startup" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 9. Scope 'startup'</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.pds.config.file</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">./pds-config.json</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Define path to PDS configuration file</p></td>
</tr>
</tbody>
</table>
<table id="section-gen-config-scope-storage" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 10. Scope 'storage'</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.pds.storage.s3.accesskey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">undefined</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defines the access key for used s3 bucket</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.pds.storage.s3.bucketname</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">undefined</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defines the s3 bucket name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.pds.storage.s3.endpoint</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">undefined</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defines the s3 endpoint - e.g. <a href="https://play.min.io" class="bare">https://play.min.io</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.pds.storage.s3.secretkey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">undefined</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defines the secret key for used s3 bucket</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.pds.storage.sharedvolume.upload.dir</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">undefined</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defines the root path for shared volume uploads - e.g. for sourcecode.zip etc. When using keyword <strong>temp</strong> as path, this will create a temporary directory (for testing).</p></td>
</tr>
</tbody>
</table>
<table id="section-gen-config-scope-upload" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 11. Scope 'upload'</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">pds.upload.binaries.maximum.bytes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">52428800</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Define the maximum amount of bytes accepted for uploading files. The default when not set is 52428800 (50 MiB)</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="tech-user-credentials">4.2. Tech user credentials</h3>
<div class="paragraph">
<p>Either use system properties</p>
</div>
<div class="listingblock">
<div class="content">
<pre>sechub.pds.techuser.userid
sechub.pds.techuser.apitoken</pre>
</div>
</div>
<div class="paragraph">
<p>or env entries</p>
</div>
<div class="listingblock">
<div class="content">
<pre>SECHUB_PDS_TECHUSER_USERID
SECHUB_PDS_TECHUSER_APITOKEN</pre>
</div>
</div>
<div class="paragraph">
<p>to define user credentisals. For apitoken please define encrypted password in spring boot
style - e.g. <code>{noop}unencrypted</code>, <code>{bcrypt}crypted</code> &#8230;&#8203;</p>
</div>
</div>
<div class="sect2">
<h3 id="admin-credentials">4.3. Admin credentials</h3>
<div class="paragraph">
<p>Either use system properties</p>
</div>
<div class="listingblock">
<div class="content">
<pre>sechub.pds.admin.userid
sechub.pds.admin.apitoken</pre>
</div>
</div>
<div class="paragraph">
<p>or env entries</p>
</div>
<div class="listingblock">
<div class="content">
<pre>SECHUB_PDS_ADMIN_USERID
SECHUB_PDS_ADMIN_APITOKEN</pre>
</div>
</div>
<div class="paragraph">
<p>to define admin credentisals. For apitoken please define encrypted password in spring boot
style - e.g. <code>{noop}unencrypted</code>, <code>{bcrypt}crypted</code> &#8230;&#8203;</p>
</div>
</div>
<div class="sect2">
<h3 id="workspace-parent-folder">4.4. Workspace parent folder</h3>
<div class="paragraph">
<p>With <code>-Dsechub.pds.workspace.rootfolder</code> or using environment variable <code>SECHUB_PDS_WORKSPACE_ROOTFOLDER</code>
workspace location can be defined</p>
</div>
</div>
<div class="sect2">
<h3 id="section-pds-server-config-file">4.5. Server configuration file</h3>
<div class="paragraph">
<p>PDS reads configuration JSON file on startup.</p>
</div>
<div class="paragraph">
<p><strong>Location</strong></p>
</div>
<div class="paragraph">
<p>With <code>-Dsechub.pds.config.file=&#8230;&#8203;</code> or using environment variable <code>SECHUB_PDS_CONFIG_FILE</code>
its is possible to set config file path ( when not defined fallback is <code>./pds-config.json</code>)</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>product-id</code><br>
Must be <strong>unique</strong> for this product. Allowed characters are [a-zA-Z0-9_]. Maximum length:30. If it&#8217;s not inside SERECO listed it must provide general sereco report format from #283.</p>
</li>
</ul>
</div>
<div id="section-pds-server-example-config-file" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
    <span class="key"><span class="delimiter">&quot;</span><span class="content">apiVersion</span><span class="delimiter">&quot;</span></span> : <span class="string"><span class="delimiter">&quot;</span><span class="content">1.0</span><span class="delimiter">&quot;</span></span>,
    
    <span class="key"><span class="delimiter">&quot;</span><span class="content">serverId</span><span class="delimiter">&quot;</span></span> : <span class="string"><span class="delimiter">&quot;</span><span class="content">UNIQUE_SERVER_ID</span><span class="delimiter">&quot;</span></span>, <i class="conum" data-value="1"></i><b>(1)</b>
    
    <span class="key"><span class="delimiter">&quot;</span><span class="content">products</span><span class="delimiter">&quot;</span></span> : [
        {
            <span class="key"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span> : <span class="string"><span class="delimiter">&quot;</span><span class="content">PRODUCT_1</span><span class="delimiter">&quot;</span></span>,<i class="conum" data-value="2"></i><b>(2)</b>
            <span class="key"><span class="delimiter">&quot;</span><span class="content">path</span><span class="delimiter">&quot;</span></span> : <span class="string"><span class="delimiter">&quot;</span><span class="content">/srv/security/scanner1.sh</span><span class="delimiter">&quot;</span></span>,<i class="conum" data-value="3"></i><b>(3)</b>
            <span class="key"><span class="delimiter">&quot;</span><span class="content">scanType</span><span class="delimiter">&quot;</span></span> : <span class="string"><span class="delimiter">&quot;</span><span class="content">codeScan</span><span class="delimiter">&quot;</span></span>,<i class="conum" data-value="4"></i><b>(4)</b>
            <span class="key"><span class="delimiter">&quot;</span><span class="content">description</span><span class="delimiter">&quot;</span></span> : <span class="string"><span class="delimiter">&quot;</span><span class="content">codescanner script needs environment variable ENV_CODESCAN_LEVEL set containing 1,2,3</span><span class="delimiter">&quot;</span></span>,<i class="conum" data-value="5"></i><b>(5)</b>
            
            <span class="key"><span class="delimiter">&quot;</span><span class="content">parameters</span><span class="delimiter">&quot;</span></span> : {<i class="conum" data-value="6"></i><b>(6)</b>
                <span class="key"><span class="delimiter">&quot;</span><span class="content">mandatory</span><span class="delimiter">&quot;</span></span> : [<i class="conum" data-value="7"></i><b>(7)</b>
                    {
                        <span class="key"><span class="delimiter">&quot;</span><span class="content">key</span><span class="delimiter">&quot;</span></span> : <span class="string"><span class="delimiter">&quot;</span><span class="content">product1.qualititycheck.enabled</span><span class="delimiter">&quot;</span></span>,<i class="conum" data-value="8"></i><b>(8)</b>
                        <span class="key"><span class="delimiter">&quot;</span><span class="content">description</span><span class="delimiter">&quot;</span></span> : <span class="string"><span class="delimiter">&quot;</span><span class="content">when 'true' quality scan results are added as well</span><span class="delimiter">&quot;</span></span><i class="conum" data-value="9"></i><b>(9)</b>
                    }  ,
                    {
                        <span class="key"><span class="delimiter">&quot;</span><span class="content">key</span><span class="delimiter">&quot;</span></span> : <span class="string"><span class="delimiter">&quot;</span><span class="content">product1.level</span><span class="delimiter">&quot;</span></span>,
                        <span class="key"><span class="delimiter">&quot;</span><span class="content">description</span><span class="delimiter">&quot;</span></span> : <span class="string"><span class="delimiter">&quot;</span><span class="content">numeric, 1-gets all, 2-only critical,fatal and medium, 3- only critical and fatal</span><span class="delimiter">&quot;</span></span>
                    }  
                ],
                <span class="key"><span class="delimiter">&quot;</span><span class="content">optional</span><span class="delimiter">&quot;</span></span> : [<i class="conum" data-value="10"></i><b>(10)</b>
                    {
                        <span class="key"><span class="delimiter">&quot;</span><span class="content">key</span><span class="delimiter">&quot;</span></span> : <span class="string"><span class="delimiter">&quot;</span><span class="content">product1.add.tipoftheday</span><span class="delimiter">&quot;</span></span>,
                        <span class="key"><span class="delimiter">&quot;</span><span class="content">description</span><span class="delimiter">&quot;</span></span> : <span class="string"><span class="delimiter">&quot;</span><span class="content">boolean as string, when 'true' we add always a tip of the day as info to results</span><span class="delimiter">&quot;</span></span>
                    }  
                ]
            }
            
        },
        
        {
            <span class="key"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span> : <span class="string"><span class="delimiter">&quot;</span><span class="content">PRODUCT_2</span><span class="delimiter">&quot;</span></span>,
            <span class="key"><span class="delimiter">&quot;</span><span class="content">path</span><span class="delimiter">&quot;</span></span> : <span class="string"><span class="delimiter">&quot;</span><span class="content">/srv/security/scanner2.sh</span><span class="delimiter">&quot;</span></span>,
            <span class="key"><span class="delimiter">&quot;</span><span class="content">scanType</span><span class="delimiter">&quot;</span></span> : <span class="string"><span class="delimiter">&quot;</span><span class="content">infraScan</span><span class="delimiter">&quot;</span></span> ,
            <span class="key"><span class="delimiter">&quot;</span><span class="content">extractUploads</span><span class="delimiter">&quot;</span></span> : <span class="value">false</span> <i class="conum" data-value="11"></i><b>(11)</b>
        }
    ]
}</code></pre>
</div>
</div>
<div id="section-pds-server-describe-config-file" class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code>serverId</code> is a <strong>unique</strong> identifier, which will be used determine a cluster /server. will be used inside logs and
also to share common database and divide different pds states etc.<br>
Allowed characters are [a-zA-Z0-9_]. Maximum length:30 <br>
(e.g <code>FIND_SECURITY_BUGS_CLUSTER</code> when providing a PDS server for find-security-bugs).
This is <strong>important</strong> ! Do NOT mix up different PDS clusters with same ID.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>product <code>id</code> is a unique identifier, which will be used at job configuration time.
Defines what will be executed and is also the identifier for SERECO to check for dedicated
report handling<br>
Allowed characters are [a-zA-Z0-9_]. Maximum length:30</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td><code>path</code> defines what command / script will be executed.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td><code>scanType</code> can be either
<div class="ulist">
<ul>
<li>
<p>codeScan</p>
</li>
<li>
<p>infraScan</p>
</li>
<li>
<p>webScan</p>
</li>
</ul>
</div></td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td><code>description</code> is a free text description</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td><code>parameters</code> area, here we can define optional and mandatory parameters. Those parameters will be available
in executed processes by environment variables.<br>
All other given job parameters will be IGNORED by server - reason: avoid unwanted changes on system environment variables from caller side</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td><code>mandatory</code> parameters - server will not accept jobs without these parameters</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td>a <code>key</code>, will be transformed to ENV variable. In the given example <code>product1.qualititycheck.enabled</code> will be available in execution process
as environment variable <code>PRODUCT1_QUALITYCHECK_ENABLED</code>.
the <code>value</code>, will be set by SecHub job call and available in former described ENV entry at execution time.
SecHub will</td>
</tr>
<tr>
<td><i class="conum" data-value="9"></i><b>9</b></td>
<td>a 'description' of the 'key'. Should contain information</td>
</tr>
<tr>
<td><i class="conum" data-value="10"></i><b>10</b></td>
<td>optional parameters</td>
</tr>
<tr>
<td><i class="conum" data-value="11"></i><b>11</b></td>
<td>defines if <code>PDS</code> will automatically extract archive files - default is <code>true</code>. When <code>true</code> the content
of <code>zip</code> source files will be available inside <code>$PDS_JOB_EXTRACTED_SOURCES_FOLDER</code>, <code>tar</code> files containing binaries can be found at <code>$PDS_JOB_EXTRACTED_BINARIES_FOLDER</code>.
The extraction will automatically filter and transform archive content as described at <a href="#data-structure-tar-and-zip-files">data structure definition</a>.
Also the environment variables <code>$PDS_JOB_HAS_EXTRACTED_SOURCES</code> and <code>$PDS_JOB_HAS_EXTRACTED_BINARIES</code> are automatically defined.</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
When no SecHub configuration model is defined for the <code>PDS</code> job, the transformation and filtering described at &lt;11&gt; will accept all binaries and all sources which are uploaded.
      But this can happen only when PDS is used without SecHub - normally only for testing PDS solutions.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="launcher-scripts">4.6. Launcher scripts</h3>
<div class="sect3">
<h4 id="generated-variables">4.6.1. Generated variables</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Variable name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PDS_JOB_WORKSPACE_LOCATION</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The workspace job root location</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PDS_JOB_RESULT_FILE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The absolute path to the result file <em>(this file contains security findings)</em>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PDS_JOB_SOURCECODE_ZIP_FILE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The absolute path to the uploaded "sourcecode.zip" file</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PDS_JOB_EXTRACTED_SOURCES_FOLDER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">When auto extracting is enabled (default) the uploaded source code is extracted to this folder</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PDS_JOB_EXTRACTED_BINARIES_FOLDER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">When auto extracting is enabled (default) the uploaded binaries are extracted to this folder</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PDS_SCAN_TARGET_URL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Target URL for current scan (e.g webscan). Will not be set in all scan types. E.g. for a code scan this environemnt variable will not be available</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PDS_SCAN_CONFIGURATION</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contains the SecHub configuration as JSON <em>(but reduced to current scan type, so e.g. a web scan will have no code scan configuration data available)</em><br>
                                     <br>
                                      For details about the exact format please look into <a href="https://mercedes-benz.github.io/sechub/latest/sechub-client.html">SecHub client documentation</a> . If you are using
                                      a Java wrapper application inside your PDS scripts, those can use the <code>sechub-commons-model</code> java library which contains <code>SecHubScanConfiguration.java</code>
                                      <em>(Usage is described in JavaDoc)</em>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SECHUB_JOB_UUID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The corresponding SecHub job UUID</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="parameter-variables">4.6.2. Parameter variables</h4>
<div class="paragraph">
<p>The parameters described at <a href="#section-pds-server-example-config-file">configuration</a> are defined in
Product executor configurations. At execution time these parameters are available inside
launcher scripts.</p>
</div>
<div class="paragraph">
<p>Mandatory parts are always present, optional ones can be empty - depending on the executor configuration.</p>
</div>
</div>
<div class="sect3">
<h4 id="file-locations">4.6.3. File locations</h4>
<div class="sect4">
<h5 id="upload">4.6.3.1. Upload</h5>
<div class="paragraph">
<p><code>$PDS_JOB_WORKSPACE_LOCATION/upload/</code></p>
</div>
<div class="paragraph">
<p>Automatically unzipped content is available inside<br>
<code>$PDS_JOB_WORKSPACE_LOCATION/upload/unzipped</code></p>
</div>
</div>
<div class="sect4">
<h5 id="output">4.6.3.2. Output</h5>
<div class="paragraph">
<p>Following files are reserved</p>
</div>
<div class="ulist">
<ul>
<li>
<p>system-err.log <em>(created automatically by PDS)</em><br>
<code>$PDS_JOB_WORKSPACE_LOCATION/output/system-err.log</code></p>
</li>
<li>
<p><code>system-out.log <em>(created automatically by PDS)</em>+
$PDS_JOB_WORKSPACE_LOCATION/output/system-out.log</code></p>
</li>
<li>
<p><strong>result.txt</strong> - this is the result file which <strong>must be created by the executed script</strong><br>
<code>$PDS_JOB_WORKSPACE_LOCATION/output/result.txt</code>.
The path is represented by the variable <code>PDS_JOB_RESULT_FILE</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="storage-configuration">4.6.4. Storage configuration</h4>
<div class="paragraph">
<p>In PDS we need to store job data (e.g. zipped source code).</p>
</div>
<div class="paragraph">
<p><strong>At least one storage setup must be defined</strong>- otherwise PDS server will not start!
You can either define a shared volume (normally a NFS) or a S3 storage.</p>
</div>
<div class="paragraph">
<p>Look at <a href="#section-gen-config-scope-storage">Storage configuration</a> for configuration details.</p>
</div>
</div>
<div class="sect3">
<h4 id="usage-of-sechub-storage">4.6.5. Usage of SecHub storage</h4>
<div class="paragraph">
<p>When using own storage for PDS servers, SecHub has to upload already pesisted job data <em>(e.g. zipped sourcecode for SAST scannings)</em>
again to PDS storage-</p>
</div>
<div class="paragraph">
<p>This is a good separation between PDS instances and SecHub, but it does duplicate storage memory and also upload time
which makes PDS job execution slower and can be a problem depending on the amount of jobs.</p>
</div>
<div class="paragraph">
<p>To increase this, SecHub administrators are able to edit the PDS executor configurations with an optional (but recommended)
job execution parameter <code>pds.config.use.sechub.storage</code>. When set to <code>true</code>, SecHub will not upload job data and PDS will reuse the
path locations from SecHub to obtain data to inspect.</p>
</div>
<div class="paragraph">
<p>See also <a href="#pds-storage-and-sharing">PDS storage and sharing concepts</a>.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If you have defined in your PDS product executor configuration to use SecHub job storage you <strong>YOU MUST use also SecHub same storage information</strong>.
Otherwise it will not work and job data is not found! For an S3 storage this means, you will
have to use exact same S3 bucket and provide PDS servers with correct S3 credential settings!</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="section-usecases">4.7. Use cases</h3>
<div class="sect3">
<h4 id="overview-about-usecase-groups">4.7.1. Overview about usecase groups</h4>
<div class="sect4">
<h5 id="anonymous">4.7.1.1. Anonymous</h5>
<div class="paragraph">
<p>All these usecases handling anonymous access.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#section-usecase-PDS_UC_008">PDS_UC_008-Anymous check if server is alive</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="job-execution">4.7.1.2. Job execution</h5>
<div class="paragraph">
<p>Execution of PSD jobs</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#section-usecase-PDS_UC_001">PDS_UC_001-User creates job</a></p>
</li>
<li>
<p><a href="#section-usecase-PDS_UC_002">PDS_UC_002-User uploads job data</a></p>
</li>
<li>
<p><a href="#section-usecase-PDS_UC_003">PDS_UC_003-User marks job ready to start</a></p>
</li>
<li>
<p><a href="#section-usecase-PDS_UC_004">PDS_UC_004-User cancels job</a></p>
</li>
<li>
<p><a href="#section-usecase-PDS_UC_005">PDS_UC_005-User fetches job status</a></p>
</li>
<li>
<p><a href="#section-usecase-PDS_UC_006">PDS_UC_006-User fetches job result</a></p>
</li>
<li>
<p><a href="#section-usecase-PDS_UC_009">PDS_UC_009-Admin fetches job result</a></p>
</li>
<li>
<p><a href="#section-usecase-PDS_UC_011">PDS_UC_011-Admin fetches job output stream</a></p>
</li>
<li>
<p><a href="#section-usecase-PDS_UC_012">PDS_UC_012-Admin fetches job error stream</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="monitoring">4.7.1.3. Monitoring</h5>
<div class="paragraph">
<p>Monitoring usecases</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#section-usecase-PDS_UC_007">PDS_UC_007-Admin fetches monitoring status</a></p>
</li>
<li>
<p><a href="#section-usecase-PDS_UC_010">PDS_UC_010-Admin fetches server configuration</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="section-usecase-PDS_UC_001">4.7.2. PDS_UC_001-User creates job</h4>
<div class="paragraph">
<p>A user creates a new PDS job</p>
</div>
<div class="paragraph">
<p><strong>Steps</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Nr</th>
<th class="tableblock halign-left valign-top">Title</th>
<th class="tableblock halign-left valign-top">Role(s)</th>
<th class="tableblock halign-left valign-top">Next</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rest call</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN, ROLE_USER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user creates job. If configuration is not valid an error will be thrown</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">service call</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN, ROLE_USER</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">job will be created, serverId will be used to store new job</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="section-usecase-PDS_UC_002">4.7.3. PDS_UC_002-User uploads job data</h4>
<div class="paragraph">
<p>A user uploads data for a job</p>
</div>
<div class="paragraph">
<p><strong>Steps</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Nr</th>
<th class="tableblock halign-left valign-top">Title</th>
<th class="tableblock halign-left valign-top">Role(s)</th>
<th class="tableblock halign-left valign-top">Next</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rest call</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN, ROLE_USER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user uploads a file to workspace of given job</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">service call</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN, ROLE_USER</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">uploaded file is stored by storage service</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="section-usecase-PDS_UC_003">4.7.4. PDS_UC_003-User marks job ready to start</h4>
<div class="paragraph">
<p>A user marks an existing PDS job as ready to start. Means all intermediate parts are done - e.g. uploads</p>
</div>
<div class="paragraph">
<p><strong>Steps</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Nr</th>
<th class="tableblock halign-left valign-top">Title</th>
<th class="tableblock halign-left valign-top">Role(s)</th>
<th class="tableblock halign-left valign-top">Next</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rest call</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN, ROLE_USER</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a user marks job as ready to start.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="section-usecase-PDS_UC_004">4.7.5. PDS_UC_004-User cancels job</h4>
<div class="paragraph">
<p>A user cancel an existing PDS job</p>
</div>
<div class="paragraph">
<p><strong>Steps</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Nr</th>
<th class="tableblock halign-left valign-top">Title</th>
<th class="tableblock halign-left valign-top">Role(s)</th>
<th class="tableblock halign-left valign-top">Next</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rest call</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN, ROLE_USER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a user cancels job</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">service call</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN, ROLE_USER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">trigger change to execution service and marks job status as cancel requested</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">service call</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">job execution will be canceled in queue</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">process cancelation</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">process created by job will be destroyed</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="section-usecase-PDS_UC_005">4.7.6. PDS_UC_005-User fetches job status</h4>
<div class="paragraph">
<p>A user fetches current job status</p>
</div>
<div class="paragraph">
<p><strong>Steps</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Nr</th>
<th class="tableblock halign-left valign-top">Title</th>
<th class="tableblock halign-left valign-top">Role(s)</th>
<th class="tableblock halign-left valign-top">Next</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rest call</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN, ROLE_USER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a user fetches status of job.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">service call</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN, ROLE_USER</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">returns job status</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="section-usecase-PDS_UC_006">4.7.7. PDS_UC_006-User fetches job result</h4>
<div class="paragraph">
<p>A user fetches job result</p>
</div>
<div class="paragraph">
<p><strong>Steps</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Nr</th>
<th class="tableblock halign-left valign-top">Title</th>
<th class="tableblock halign-left valign-top">Role(s)</th>
<th class="tableblock halign-left valign-top">Next</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rest call</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN, ROLE_USER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a user wants to get result of job</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">service call</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN, ROLE_USER</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">job result fetch from database, when not done a failure will be shown</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="section-usecase-PDS_UC_007">4.7.8. PDS_UC_007-Admin fetches monitoring status</h4>
<div class="paragraph">
<p>An administrator fetches current state of cluster members,jobs running and also of execution service of dedicated memers. So is able to check queue fill state, jobs running etc.</p>
</div>
<div class="paragraph">
<p><strong>Steps</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Nr</th>
<th class="tableblock halign-left valign-top">Title</th>
<th class="tableblock halign-left valign-top">Role(s)</th>
<th class="tableblock halign-left valign-top">Next</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">heartbeat update</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a scheduled heartbeat update is done by PDS server - will persist hearbeat information of server instance to database and also into logs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">db lookup</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">service fetches all execution state</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rest call</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">admin fetches monitoring status by REST API</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">service call</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">service fetches job state counts and gathers hearbeats of cluster members by serverId</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="section-usecase-PDS_UC_008">4.7.9. PDS_UC_008-Anymous check if server is alive</h4>
<div class="paragraph">
<p>Anonymous access to check if server is alive or not</p>
</div>
<div class="paragraph">
<p><strong>Steps</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Nr</th>
<th class="tableblock halign-left valign-top">Title</th>
<th class="tableblock halign-left valign-top">Role(s)</th>
<th class="tableblock halign-left valign-top">Next</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rest call</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">anybody - even anonymous - checks server alive.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="section-usecase-PDS_UC_009">4.7.10. PDS_UC_009-Admin fetches job result</h4>
<div class="paragraph">
<p>Same as when a user is fetching a job result. But will return results in any kind of state.
If failure happens an admin is able to load the error output which is contained
instead of result - but it&#8217;s no JSON!</p>
</div>
<div class="paragraph">
<p>So only administrator is able to get insightsto processes and system logs, but no normal user.</p>
</div>
<div class="paragraph">
<p><strong>Steps</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Nr</th>
<th class="tableblock halign-left valign-top">Title</th>
<th class="tableblock halign-left valign-top">Role(s)</th>
<th class="tableblock halign-left valign-top">Next</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rest call</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">an admin fetches result or failure text for job from db.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">service call</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">result data will be returned - can be empty or even a failure text from job execution.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="section-usecase-PDS_UC_010">4.7.11. PDS_UC_010-Admin fetches server configuration</h4>
<div class="paragraph">
<p>An administrator fetches server configuration.</p>
</div>
<div class="paragraph">
<p><strong>Steps</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Nr</th>
<th class="tableblock halign-left valign-top">Title</th>
<th class="tableblock halign-left valign-top">Role(s)</th>
<th class="tableblock halign-left valign-top">Next</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rest call</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">an admin fetches server configuration of PDS server(s).</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="section-usecase-PDS_UC_011">4.7.12. PDS_UC_011-Admin fetches job output stream</h4>
<div class="paragraph">
<p>An administrator can fetch the output stream text content via REST. Even when the PDS job is still running this is possible</p>
</div>
<div class="paragraph">
<p><strong>Steps</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Nr</th>
<th class="tableblock halign-left valign-top">Title</th>
<th class="tableblock halign-left valign-top">Role(s)</th>
<th class="tableblock halign-left valign-top">Next</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rest call</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">an admin fetches output stream text.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">service call</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Output stream content of PDS job shall be returned. If the data is available in database and not outdated it will be returned directly. Otherwise job is marked for refresh and service will wait until stream data has been updated by executing machine. After succesful upate the new result will be returned.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Request stream data refresh</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Updates the refresh request timestamp in database. This timestamp will be introspected while PDS job process execution - which will fetch and update stream content</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Update stream data</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reads all stream data (output and error ) from workspace files and stores content inside database. Will also refresh update time stamp for caching mechanism.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="section-usecase-PDS_UC_012">4.7.13. PDS_UC_012-Admin fetches job error stream</h4>
<div class="paragraph">
<p>An administrator can fetch the output stream text content via REST. Even when the PDS job is still running this is possible</p>
</div>
<div class="paragraph">
<p><strong>Steps</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Nr</th>
<th class="tableblock halign-left valign-top">Title</th>
<th class="tableblock halign-left valign-top">Role(s)</th>
<th class="tableblock halign-left valign-top">Next</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rest call</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">an admin fetches error stream text.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">service call</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Error stream content of PDS job shall be returned. If the data is available in database and not outdated it will be returned directly. Otherwise job is marked for refresh and service will wait until stream data has been updated by executing machine. After succesful upate the new result will be returned.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Request stream data refresh</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Updates the refresh request timestamp in database. This timestamp will be introspected while PDS job process execution - which will fetch and update stream content</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Update stream data</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reads all stream data (output and error ) from workspace files and stores content inside database. Will also refresh update time stamp for caching mechanism.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="rest-api">4.8. REST API</h3>
<div class="sect3">
<h4 id="big-picture-2">4.8.1. Big picture</h4>
<div class="imageblock">
<div class="content">
<img src="images/diagram_concept_product_delgation_server_bigpicture.png" alt="Diagram" width="1569" height="982">
</div>
</div>
</div>
<div class="sect3">
<h4 id="create-job">4.8.2. Create JOB</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">https://${baseURL}/api/job/create [POST]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Does contain configuration data for job execution as JSON in a very simple key value style:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
    <span class="key"><span class="delimiter">&quot;</span><span class="content">apiVersion</span><span class="delimiter">&quot;</span></span> : <span class="string"><span class="delimiter">&quot;</span><span class="content">1.0</span><span class="delimiter">&quot;</span></span>,

    <span class="key"><span class="delimiter">&quot;</span><span class="content">sechubJobUUID</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">288607bf-ac81-4088-842c-005d5702a9e9</span><span class="delimiter">&quot;</span></span>, <i class="conum" data-value="1"></i><b>(1)</b>

    <span class="key"><span class="delimiter">&quot;</span><span class="content">productId</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">THE_PRODUCT_IDENTIFIER</span><span class="delimiter">&quot;</span></span>, <i class="conum" data-value="2"></i><b>(2)</b>
    
    <span class="key"><span class="delimiter">&quot;</span><span class="content">parameters</span><span class="delimiter">&quot;</span></span>: [<i class="conum" data-value="3"></i><b>(3)</b>
        { 
            <span class="key"><span class="delimiter">&quot;</span><span class="content">key</span><span class="delimiter">&quot;</span></span> : <span class="string"><span class="delimiter">&quot;</span><span class="content">sechub.test.key.1</span><span class="delimiter">&quot;</span></span>, <i class="conum" data-value="4"></i><b>(4)</b>
            <span class="key"><span class="delimiter">&quot;</span><span class="content">value</span><span class="delimiter">&quot;</span></span> : <span class="string"><span class="delimiter">&quot;</span><span class="content">value1</span><span class="delimiter">&quot;</span></span> <i class="conum" data-value="5"></i><b>(5)</b>
        },
        { 
            <span class="key"><span class="delimiter">&quot;</span><span class="content">key</span><span class="delimiter">&quot;</span></span> : <span class="string"><span class="delimiter">&quot;</span><span class="content">sechub.test.key.2</span><span class="delimiter">&quot;</span></span>, 
            <span class="key"><span class="delimiter">&quot;</span><span class="content">value</span><span class="delimiter">&quot;</span></span> : <span class="string"><span class="delimiter">&quot;</span><span class="content">value2</span><span class="delimiter">&quot;</span></span>
        }
     ]
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>sechub job UUID - link back to sechub job.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>product identifier - which product shall be used</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>parameter area - contains key value pairs to provide parameters at execution time</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Represents the key, will be provided as argument <code>${sechub.test.key.1}</code> but also as <code>SECHUB_TEST_KEY_1</code> environment entry on process startup
so its up to the implementers if this is something that should not be shown in process tree&#8230;&#8203;<br>
Only <code>[a-z\.0-9]</code> is allowed. <code>.</code> will be converted always to <code>_</code> for the environment variables (spirng boot style)</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Just the value. Must be always a string</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="upload-data">4.8.3. Upload data</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">https://${baseURL}/api/job/${jobUUID}/upload [POST]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Uploaded data must be automatically destroyed after job has been done.
This avoids file system freezes&#8230;&#8203;</p>
</div>
</div>
<div class="sect3">
<h4 id="mark-job-ready-to-start">4.8.4. Mark JOB ready to start</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">https://${baseURL}/api/job/${jobUUID}/mark-ready-to-start [PUT]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="fetch-job-status">4.8.5. Fetch JOB status</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">https://${baseURL}/api/job/${jobUUID}/status [GET]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="fetch-job-result">4.8.6. Fetch JOB result</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">https://${baseURL}/api/job/${jobUUID}/result [GET]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="cancel-job">4.8.7. Cancel JOB</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">https://${baseURL}/api/job/${jobUUID}/cancel [PUT]</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
This will the process hard!
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="get-monitoring-status">4.8.8. Get monitoring status</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">https://${baseURL}/api/admin/monitoring/status [GET]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here an example output:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
    <span class="key"><span class="delimiter">&quot;</span><span class="content">serverId</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">serverid1</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">jobs</span><span class="delimiter">&quot;</span></span>: {
        <span class="key"><span class="delimiter">&quot;</span><span class="content">CREATED</span><span class="delimiter">&quot;</span></span>: <span class="integer">1</span>,
        <span class="key"><span class="delimiter">&quot;</span><span class="content">QUEUED</span><span class="delimiter">&quot;</span></span>: <span class="integer">1</span>,
        <span class="key"><span class="delimiter">&quot;</span><span class="content">READY_TO_START</span><span class="delimiter">&quot;</span></span>: <span class="integer">1</span>,
        <span class="key"><span class="delimiter">&quot;</span><span class="content">RUNNING</span><span class="delimiter">&quot;</span></span>: <span class="integer">1</span>,
        <span class="key"><span class="delimiter">&quot;</span><span class="content">DONE</span><span class="delimiter">&quot;</span></span>: <span class="integer">1</span>
    },
    <span class="key"><span class="delimiter">&quot;</span><span class="content">members</span><span class="delimiter">&quot;</span></span>: [
        {
            <span class="key"><span class="delimiter">&quot;</span><span class="content">hostname</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">hostname1</span><span class="delimiter">&quot;</span></span>,
            <span class="key"><span class="delimiter">&quot;</span><span class="content">ip</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">192.168.178.23</span><span class="delimiter">&quot;</span></span>,
            <span class="key"><span class="delimiter">&quot;</span><span class="content">heartBeatTimestamp</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">2020-07-08T17:22:36.295</span><span class="delimiter">&quot;</span></span>,
            <span class="key"><span class="delimiter">&quot;</span><span class="content">executionState</span><span class="delimiter">&quot;</span></span>: {
                <span class="key"><span class="delimiter">&quot;</span><span class="content">queueMax</span><span class="delimiter">&quot;</span></span>: <span class="integer">50</span>,
                <span class="key"><span class="delimiter">&quot;</span><span class="content">jobsInQueue</span><span class="delimiter">&quot;</span></span>: <span class="integer">0</span>,
                <span class="key"><span class="delimiter">&quot;</span><span class="content">entries</span><span class="delimiter">&quot;</span></span>: [
                ]
            }
        },
        {
            <span class="key"><span class="delimiter">&quot;</span><span class="content">hostname</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">hostname2</span><span class="delimiter">&quot;</span></span>,
            <span class="key"><span class="delimiter">&quot;</span><span class="content">ip</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">192.168.178.24</span><span class="delimiter">&quot;</span></span>,
            <span class="key"><span class="delimiter">&quot;</span><span class="content">heartBeatTimestamp</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">2020-07-08T17:22:36.295</span><span class="delimiter">&quot;</span></span>,
            <span class="key"><span class="delimiter">&quot;</span><span class="content">executionState</span><span class="delimiter">&quot;</span></span>: {
                <span class="key"><span class="delimiter">&quot;</span><span class="content">queueMax</span><span class="delimiter">&quot;</span></span>: <span class="integer">50</span>,
                <span class="key"><span class="delimiter">&quot;</span><span class="content">jobsInQueue</span><span class="delimiter">&quot;</span></span>: <span class="integer">1</span>,
                <span class="key"><span class="delimiter">&quot;</span><span class="content">entries</span><span class="delimiter">&quot;</span></span>: [
                    {
                        <span class="key"><span class="delimiter">&quot;</span><span class="content">jobUUID</span><span class="delimiter">&quot;</span></span> : <span class="string"><span class="delimiter">&quot;</span><span class="content">c3917a46-456f-4006-888a-08f74cc26a7a</span><span class="delimiter">&quot;</span></span>,
                        <span class="key"><span class="delimiter">&quot;</span><span class="content">done</span><span class="delimiter">&quot;</span></span>: <span class="value">false</span>,
                        <span class="key"><span class="delimiter">&quot;</span><span class="content">canceled</span><span class="delimiter">&quot;</span></span>: <span class="value">false</span>,
                        <span class="key"><span class="delimiter">&quot;</span><span class="content">created</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">2020-07-08T17:22:33.132</span><span class="delimiter">&quot;</span></span>,
                        <span class="key"><span class="delimiter">&quot;</span><span class="content">started</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">2020-07-08T17:22:36.295</span><span class="delimiter">&quot;</span></span>,
                        <span class="key"><span class="delimiter">&quot;</span><span class="content">state</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">RUNNING</span><span class="delimiter">&quot;</span></span>
                    }
                ]
            }
        }
    ]
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
 PDS 0.29.0<br>
</div>
</div>
</body>
</html>